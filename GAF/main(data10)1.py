# Author: Johann Faouzi <johann.faouzi@gmail.com>
# License: BSD-3-Clause

import matplotlib.pyplot as plt
import matplotlib.image as mpimg
from mpl_toolkits.axes_grid1 import ImageGrid
from pyts.image import GramianAngularField
from pyts.datasets import load_gunpoint
from PIL import Image
import numpy as np
# Parameters
X = [[
    33.4,
33.5,
33.9,
34,
34,
33.9,
33.9,
33.5,
33.4,
33.5,
33.6,
33.9,
33.9,
33.9,
33.9,
33.7,
33.5,
33.5,
33.6,
33.9,
33.9,
34,
33.5,
33.5,
33.4,
33.8,
33.9,
33.9,
33.9,
33.7,
33.4,
33.3,
33.4,
33.8,
33.8,
33.8,
33.9,
33.7,
33.4,
33.5,
33.9,
33.9,
33.9,
34,
33.9,
33.5,
33.6,
33.5,
33.8,
33.9,
33.8,
33.8,
33.8,
33.5,
33.4,
33.5,
33.8,
34,
34,                                                     
34,
33.6,
33.5,
33.6,
]]
X2 = [[
    33.7,
33.8,
34,
34,
34,
34.2,
34.2,
34.2,
33.8,
33.8,
33.6,
33.9,
34,
34.1,
34.2,
34.3,
34.2,
33.9,
33.8,
33.7,
33.6,
33.9,
34,
33.9,
33.9,
34.1,
33.9,
33.8,
33.7,
33.6,
33.8,
33.9,
34,
34.1,
34,
34,
33.8,
33.7,
33.9,
34,
34.1,
34.1,
34.1,
33.9,
33.7,
33.8,
33.9,
33.9,
34.1,
34.1,
34.1,
34.1,
34.1,
34,
33.9,
33.7,
33.7,
33.7,
33.9,
34.2,
34.3,
34.1,
34.1,
]]
X3 = [[
    32.7,
32.8,
32.8,
32.4,
32.4,
32.4,
32.4,
32.5,
32.7,
32.6,
32.6,
32.5,
32.5,
32.4,
32.4,
32.6,
32.7,
32.7,
32.6,
32.4,
32.3,
32.2,
32.5,
32.6,
32.7,
32.6,
32.6,
32.2,
32.3,
32.5,
32.6,
32.7,
32.6,
32.4,
32.3,
32.3,
32.7,
32.6,
32.6,
32.7,
32.5,
32.3,
32.3,
32.7,
32.7,
32.2,
32.4,
32.6,
32.5,
32.3,
32.3,
32.3,
32.3,
32.2,
32.4,
32.7,
32.6,
32.5,
32.7,
32.6,
32.5,
32.3,
32.3,
]]
X4 = [[
    32.7,
    32.8,
    33,
    33.1,
    33.1,
    32.8,
    32.9,
    33,
    33,
    32.9,
    32.9,
    32.8,
    33,
    32.9,
    32.9,
    32.8,
    33,
    33.1,
    33.1,
    33.2,
    33.1,
    33.2,
    33.2,
    33.1,
    33.3,
    33.1,
    33.1,
    33.1,
    33.1,
    33.1,
    33.1,
    33.2,
    33,
    33,
    33.2,
    32.9,
    33.1,
    33.1,
    32.9,
    32.9,
    33.1,
    32.9,
    32.8,
    32.8,
    32.8,
    32.9,
    33,
    33,
    33,
    33,
    33,
    32.9,
    32.9,
    32.9,
    33,
    33,
    33,
    33.1,
    32.8,
    32.9,
    32.9,
    32.9,
]]

# Transform the time series into Gramian Angular Fields
gasf = GramianAngularField(image_size=62, method='summation')
X_gasf = gasf.fit_transform(X)
X_gasf2 = gasf.fit_transform(X2)
X_gasf3 = gasf.fit_transform(X3)
X_gasf4 = gasf.fit_transform(X4)

# Show the images for the first time series
fig = plt.figure(figsize=(8, 4))
grid = ImageGrid(fig, 111,
                 nrows_ncols=(1, 4),
                 axes_pad=0.15,
                 share_all=True,
                 cbar_location="right",
                 cbar_mode="single",
                 cbar_size="7%",
                 cbar_pad=0.3,
                 )
images = [X_gasf[0], X_gasf2[0], X_gasf3[0], X_gasf4[0]]
titles = ['GASF', 'GASF2','GASF3','GASF4']
for image, title, ax in zip(images, titles, grid):
    im = ax.imshow(image, origin='lower')
    ax.set_title(title, fontdict={'fontsize': 12})
    # mpimg.imsave(title+"1.png",image,format='png')
ax.cax.colorbar(im)
ax.cax.toggle_label(True)
plt.suptitle('Gramian Angular Fields', y=0.98, fontsize=16)
plt.show()